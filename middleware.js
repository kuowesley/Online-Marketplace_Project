// some of middleware should move to here for clear coding style
